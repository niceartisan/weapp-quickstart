# weapp-quickstart

## 写在前面

提到小程序开发,大家都会想到框架,主流的框架有 WePy,mpvue,Taro,了解过各主流框架后决定还是自己搭建一个工程来开发小程序.

为什么不使用框架?

1. 需要同时学习框架语法和小程序语法(毕竟遇到问题一定少不了看微信官方文档的)
2. 框架的更新速度会比微信官方的更新速度慢
3. 框架本身会有 bug 存在,如果没有修复框架能力,生产环境容易失控

当然,框架的存在一定有他的优势,只是如果是要发布上线的应用,总是要尽量的让它在自己的可控范围.为了提高后期项目的可控性,个人还是比较倾向于搭建一个合适的工程来开发.

## 目录结构

```

|-- /src
|  -- /components           // 组件
|  -- /images               // 图片资源
|  -- /libs                 // 第三方库
|  -- /pages                // 页面
|  -- /service              // 接口统一放置在这里
|  -- /styles               // 通用样式
|  -- /utils                // 通用工具
|  -- app.js                 // 全局js
|  -- app.json               // 小程序配置
|  -- app.less               // 全局样式
|  -- project.config.json    // 工具配置

```

src下的文件会全部编译到dist文件下,文件结构保持一致,只是less或者images等会使用gulp处理一下,只要把dist导入微信小程序就可以看到效果了.

### 样式处理

样式选择使用less,当然可以根据个人喜好使用其它的CSS预处理语言,styles文件中放置一些通用的样式配置,需要使用的在less中import就可以了,类似通用的颜色,字号等,这样后期改动只需要改动全局配置即可.

### 图片处理

小程序的样式文件中本身是不支持使用本地图片的,gulp中配置一个小于10k的图片转成base64,本地的小图标就可以直接在样式文件中使用了.大图片就只能使用cdn等去访问了.如果不支持cdn等,需要直接使用本地图片的话,就不用再样式中引用,在wxml中用<image>标签引用就可以了.

### 接口

小程序页面基本不会特别多,为了方便接口的维护管理,将接口统一放置在service中,之后挂载在app.js中,全局可以访问.

